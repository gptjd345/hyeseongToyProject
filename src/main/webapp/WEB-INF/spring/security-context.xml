<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
	xmlns:security="http://www.springframework.org/schema/security"
	xmlns:mybatis-spring="http://mybatis.org/schema/mybatis-spring"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:mvc="http://www.springframework.org/schema/mvc"
	xsi:schemaLocation="http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.2.xsd
		http://mybatis.org/schema/mybatis-spring http://mybatis.org/schema/mybatis-spring-1.2.xsd
		http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">
	
	<!-- <context:component-scan base-package="com.example.toyProject.service.member.security" use-default-filters="false"> 
		<context:include-filter expression="org.springframework.stereotype.Service" type="annotation" /> 
		<context:include-filter expression="org.springframework.stereotype.Repository" type="annotation" /> 
	</context:component-scan> -->

<!-- 
	<bean id="userService" class="com.example.toyProject.service.member.security.CustomUserDetailsService"></bean>
	
    <bean id="userLoginFailHandler" class="com.example.toyProject.service.member.security.UserLoginFailHandler"></bean>
    
    <bean id="userLoginSuccessHandler" class="com.example.toyProject.service.member.security.UserLoginSuccessHandler"></bean>	
		
    @Secured 어노테이션 설정
    <security:global-method-security secured-annotations="enabled" proxy-target-class="true" />
    
    로그인, 로그아웃 및 권한별 접근 url 설정.
    use-expressions: true SpEL문법 사용
    DB 연동 설정 
    <security:http auto-config="true" use-expressions="true">
        
        url별 접근 권한 설정
        <security:intercept-url pattern="/resources/**" access="permitAll" /> 
        <security:intercept-url pattern="/member/list.do" access="permitAll" /> 
        <security:intercept-url pattern="/**" access="permitAll" /> 
        
        로그인 설정
        <security:form-login 
        	login-page="/member/login" 
        	username-parameter="userid" 
        	password-parameter="password" 
        	login-processing-url="/member/login.do"
        	default-target-url="/"
        />
          	authentication-failure-handler-ref="userLoginFailHandler"
          	authentication-success-handler-ref="userLoginSuccessHandler"
        authentication-failure-url="/member/login" 이 부분 제거 
        default-target-url 이 부분 제거 
        
        로그아웃 설정
        <security:logout 
        	logout-url="/member/logout.do"
        	logout-success-url="/member/login" 
        />
        CSRF 토큰을 사용하겠다.
        <security:csrf/>
    </security:http>
    
  
        DB 연동 설정 user-service-ref: DB인증을 처리할 Bean 객체 이름
		<security:authentication-manager>
			<security:authentication-provider user-service-ref="userService">
			
			</security:authentication-provider>
		</security:authentication-manager>
		
 -->
    
    
    
    
</beans>